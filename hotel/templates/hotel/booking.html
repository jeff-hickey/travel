{% extends "hotel/layout.html" %}
{% load static %}
{% block body %}
    <main role="main mt-0">
    {% if message %}
        <div>{{ message }}</div>
    {% endif %}

    <div class="container">
    <div class="py-5 text-center">
        <h3>Booking  #{{ booking_list.first.confirmation }} for {{booking_list.first.full_name}}</h3>
        <small>Username: @{{ user.username }}, Email: {{ user.email }}, Phone: {{ booking_list.first.phone_number }}</small>
    </div>
    <div class="row">
        <div class="col-md-5 order-md-2 mb-4">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
                <span class="text-muted">Room Charges</span>
                <span class="badge badge-secondary badge-pill">{{ request.session.cart|length }} </span>
            </h4>
            <ul class="list-group mb-3">
                {% for booking in booking_list %}
                    <li class="list-group-item d-flex justify-content-between lh-condensed">
                        <div>
                            <h6 class="my-0">{{ booking.room.label }}</h6>
                            <small class="text-muted">Room # {{ room.number_on_door }}, max
                                guests: {{ room.max_guests }}</small><br/>
                            <small class="text-muted">Dates: {{ booking.room.arrival|date }} - {{ booking.room.departure|date }}</small>
                        </div>
                        <span class="text-muted">${{ booking.room.price }}</span>
                    </li>
                {% endfor %}
                <li class="list-group-item d-flex justify-content-between">
                    <span>Total (USD)</span>
                    <strong>$20</strong>
                </li>
            </ul>
        </div>
        // TODO: Insert cool hotel + rooms cards here
        <div class="col-md-7 order-md-1">
            <h4 class="mb-3">Guest Info</h4>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="firstName">Guest Name:</label>
                    {{ booking_list.first.full_name }}
                </div>
            </div>
            <div class="mb-3">
                <label for="address">Phone</label>
                {{ booking_list.first.phone }}
            </div>
            <div class="mb-3">
                <label for="username">Username</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">@</span>
                    </div>
                    {{ user.username }}
                </div>
            </div>
            <div class="mb-3">
                <label for="email">Email <span class="text-muted"></span></label>
                {{ email }}
            </div>
        </div>

    </div>
{% endblock %}
{% block script %}
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel" src="{% static '/hotel/room.js' %}"></script>
{% endblock %}